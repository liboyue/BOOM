<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BOOM: BOOM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BOOM
   &#160;<span id="projectnumber">v0.0.1</span>
   </div>
   <div id="projectbrief">An easy-to-use question answering pipeline framework.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">BOOM </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>An easy-to-use multi-process Configuration Space Exploration pipeline framework.</p>
<h1>Features</h1>
<ul>
<li>Easy to use: you only need to write your configuration file and modules, we will handle everything else!</li>
<li>Flexible: we offer common modules for QA pipelines, and it is very easy to develop your own modules.</li>
<li>Parameter tuning: automatically run on all possible parameter combinations and saves the results.</li>
<li>High efficiency: we use multiple processes to run the whole pipeline.</li>
<li>Compatibility: only compatible with Python 2.</li>
</ul>
<h1>Installation</h1>
<p>First, install <a href="https://www.rabbitmq.com/download.html">RabbitMQ</a> and <code>pip</code>.</p>
<p>Then, clone the repository, run </p><pre class="fragment">make install
</pre><p>It will install dependencies using <code>pip</code>, and install this framework to your <code>PATH</code>.</p>
<h1>Run</h1>
<p>We offer a command-line executable program <code>boom</code>. When executing, it will load <code>conf.yaml</code> from the current directory. You can also specify the configuration file to use by adding option <code>-conf PATH_TO_CONF_FILE</code>.</p>
<p>For more options, run <code>boom --help</code>.</p>
<h1>Docker image</h1>
<p>To build the docker image, run <code>make docker</code>.</p>
<h1>Tutorials</h1>
<p>Please check out the two tutorials in <code>examples</code> folder.</p>
<h1>Quick tutorails</h1>
<h2>Configuation Space Exploration</h2>
<p>A QA pipeline may be consisted with several modules, each module may have some parameters. Each combination of parameters corresponds to a path in the parameter space. BOOM exhaustively run the pipeline on every possible parameter combinations, saves all intermediate results and final results.</p>
<p>The following figure shows a pipeline which has several modules. The execution path is a tree which every level corresponds to a module, and each node stands for a different parameter value. The leaf nodes are metric values. Red arrows belongs to the best parameter combination. <img src="https://github.com/liboyue/BOOM/blob/master/sample_pipeline.png" alt="alt text" title="The pipeline configuration and actual execution path." class="inline"/></p>
<h2>Components</h2>
<p>There are two main components to a BOOM pipeline: the modules and the configuration file. Each pipeline can have an arbitrary number of modules (n &gt;= 1) but there is only one configuration file that defines the pipeline. BOOM works by instantiating each module and passing data along from one module to the next, allowing each to process and transform the data along the way.</p>
<h3>Modules</h3>
<p>The building block of a BOOM pipeline is the <a href="https://bioasq.boyue.li/classsrc_1_1modules_1_1module_1_1_module.html">Module class</a>. Each module in the pipeline takes in the data in the exact format returned by the previous module and return the data for the next module in its <code>process()</code> method. At a minimum, each user-defined module must subclass <code>Module</code> and implement the <code>__init__()</code> and <code>process()</code> methods.</p>
<h3>Configuration Files</h3>
<p>The configuration file defines the structure and composition of the pipeline and allows the user to define a parameter space for the pipeline to be executed over. The configuration is written is a YAML file and contains two core components: <code>pipeline</code>, where pipeline metadata is declared, and <code>modules</code>, where the pipeline composition is defined.</p>
<p>Following is the <code>pipeline</code> section of the toy example's configuration file: </p><pre class="fragment">pipeline:
    name: toy_pipeline
    rabbitmq_host: 127.0.0.1
    clean_up: false
    use_mongodb: false
    mongodb_host: 127.0.0.1
</pre><p>Under the <code>pipeline</code> key, there are 5 key-value pairs that need to be declared: </p><pre class="fragment">name
rabbitmq_host
clean_up
use_mongodb
mongodb_host
</pre><p><code>name</code> allows the user to declare a name for the pipeline. <code>rabbitmq_host</code> and <code>mongodb_host</code> are simply the host addresses for RabbitMQ and MongoDB, respectively. <code>clean_up</code> is a boolean value that will delete intermediate output files if declared <code>true</code>. <code>use_mongodb</code> is a boolean value that will write data to MongoDB instead of files if declared <code>true</code>.</p>
<p>Following is the <code>modules</code> section of the toy example's configuration file:</p>
<pre class="fragment">pipeline: # Pipeline section, defines pipeline's properties
    mode: docker # Running mode, local or docker, default local
    name: toy_pipeline # Name of the pipeline
    rabbitmq_host: 127.0.0.1 # RabbitMQ's host uri
    clean_up: false # Whether the pipeline cleans up after finished running, true or false
    use_mongodb: true # Whether to use MongoDB, true or false, default false
    mongodb_host: 127.0.0.1 # MongoDB's host

modules:
    -   name: module_1 # Name of the module
        type: Sample # Type of the module
        input_file: data.json # Input file's uri
        output_module: module_2 # The following module's name
        instances: 1 # Number of instances of this module
        params:
            -   name: p1
                type: collection # Type of the param, int, float or collection
                values: # Possible vaules for collection param
                    - val1
                    - val2
                    - val3

            -   name: p2
                type: int
                start: 0
                end: 20
                step_size: 20

    -   name: module_2
        type: Sample
        output_module: module_3
        instances: 1
        params:
            -   name: p
                type: float
                start: 0.0
                end: 80.0
                step_size: 40.0

    -   name: module_3
        type: Sample
        output_module: module_4
        instances: 1

    -   name: module_4
        type: CSVWriter
        output_file: results.csv 
        instances: 1
</pre><p>The <code>modules</code> section of the configuration file should contain a list of modules. Each module consists of a set of key-value pairs which must include <code>name</code>, <code>type</code>, <code>input_file</code> (first module only), <code>output_module</code> (or <code>output_file</code> for the last module), <code>instances</code>, and (optionally) <code>params</code>. <code>params</code> is a list of parameters, defined by a <code>name</code>, <code>type</code> (float, int, or collection). If the parameter is a float or int, the param should also contain <code>start</code>, <code>end</code>, and <code>step_size</code>. If the parameter is of type collection, then it should contain a <code>values</code> list.</p>
<h1>API documentation</h1>
<p>You can find the API documentation <a href="https://boom.boyue.li">here</a>.</p>
<h1>Warning</h1>
<p>This framework is still under heavy development, please be careful. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
